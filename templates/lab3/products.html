{% extends "base.html" %}

{% block lab %}Лабораторная работа 3{% endblock %}
{% block main %}
<h1>Поиск товаров по диапазону цен</h1>

<form action="/lab3/products" method="get">
  <label>Мин. цена:
    <input type="number" name="min_price" value="{{ min_price or '' }}" placeholder="{{ min_price_all }}">
  </label>

  <label>Макс. цена:
    <input type="number" name="max_price" value="{{ max_price or '' }}" placeholder="{{ max_price_all }}">
  </label>

  <button type="submit">Искать</button>
  <button type="submit" name="reset" value="1">Сброс</button>
</form>

<p>Найдено товаров: {{ count }}</p>

{% if products %}
  <ul>
  {% for p in products %}
    <li>
      <b>{{ p.name }}</b> — {{ p.price }} руб.
      ({{ p.brand }}, {{ p.color }})
    </li>
  {% endfor %}
  </ul>
{% else %}
  <p><i>Не найдено ни одного товара</i></p>
{% endif %}
{% endblock %}
